<%
@f_max = 3
@f_min = 0.5

def get_size(count)
  constant = Math.log(@max_count - (@min_count - 1)) /
    ((@f_max - @f_min) == 0 ? 1 : (@f_max - @f_min));

  (Math.log(count - (@min_count - 1)) / constant + @f_min).round(5)
end

%>

<p>
  <% @tags.each do |t| %>
    <%= link_to t.tag_name + ' (' + t.cnt.to_s + ')', tag_path(t.tag_name), style: 'font-size:' + get_size(t.cnt).to_s + 'em' %>
  <% end %>
</p>
